{% set groupTemplate = templates.get_template("group.html") %}
{% set spaTemplate = templates.get_template("spaWidget.html") %}
{% set poolPumpControlTemplate = templates.get_template("poolPumpWidget.html") %}
<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en'>
<head>
    <title>{{ title }}</title>
    <link rel='stylesheet' type='text/css' href='/css/dashboard.css'> 
    <script src='/js/jquery.js'></script>
    <script src='/js/update.js'></script>
    {{ script }}
</head>
<body>
    <table border=0 width={{ widths[0] }} style='table-layout:fixed'>
        {% for w in widths[1] %}
        <col width={{ w[0] }}>
        {% endfor %}
        <tr>
            <td>
                <a href="/details?group=Time"><h2>Time</h2></a>{{ timeGroup }}
                <a href="/details?group=Weather"><h2>Weather</h2></a>{{ weatherGroup }}
                <a href="/details?group=Power"><h2>Power</h2></a>{{ powerGroup }}
                {{ groupTemplate.render(templates=templates, widths=widths[1][0], group=lightsGroup, details=False, name=True, link=True, views=views) }}
                {{ groupTemplate.render(templates=templates, widths=widths[1][0], group=poolGroup, details=False, name=True, link=True, views=views) }}
                {{ poolPumpControlTemplate.render(templates=templates, widths=widths[1][0], poolPumpControl=poolPumpControl, poolPumpFlowSensor=poolPumpFlowSensor, nSetValues=5, views=views) }}
                {{ spaTemplate.render(templates=templates, widths=widths[1][0], spa=spa, spaTemp=spaTemp, spaTempTarget=spaTempTarget, nSetValues=3, views=views) }}
            </td>
            <td>
                {{ groupTemplate.render(templates=templates, widths=widths[1][1], group=shadesGroup, details=False, name=True, link=True, views=views) }}
                <a href="/details?group=Hvac"><h2>Hvac</h2></a>{{ hvac }}
                {{ groupTemplate.render(templates=templates, widths=widths[1][1], group=sprinklersGroup, details=False, name=True, link=True, views=views) }}
            </td>
        </tr>
    </table>
</body>
</html>

