<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml' xml:lang='en'>
<head>
    <title>{{ title }}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel='stylesheet' type='text/css' href='/css/solar.css'> 
    <script src='/js/jquery.js'></script>
    <script src='/js/update.js'></script>
    <script src='/js/submit.js'></script>
    {{ script }}
</head>
<body>
    <div class="image">
       <img src="/images/solar.png" />
            <div class="stats" >
                <div class="statsGroup">
                    <div>
                        <span id="{{ date.name }}" class="date">{{ date.getViewState(views) }}</span> 
                        <span id="{{ time.name }}" class="time">{{ time.getViewState(views) }}</span> 
                        <span id="{{ ampm.name }}" class="ampm">{{ ampm.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">Sunrise</span> 
                        <span>{{ sunrise.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">Sunset</span> 
                        <span>{{ sunset.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">Lat</span> 
                        <span>{{ latitude }}</span> 
                        <span class="label">Long</span> 
                        <span>{{ longitude }}</span>
                    </div>
                    <div>
                        <span class="label">Elevation</span> 
                        <span>{{ elevation }}</span> 
                    </div>
                </div>
                <div class="statsGroup">
                    <div>
                        <span class="label">Air temperature</span> 
                        <span id="{{ airTemp.name }}" class="{{ airTemp.type }}">{{ airTemp.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">Inverter temperature</span> 
                        <span id="{{ inverterTemp.name }}" class="{{ inverterTemp.type }}">{{ inverterTemp.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">Roof temperature</span> 
                        <span id="{{ roofTemp.name }}" class="{{ roofTemp.type }}">{{ roofTemp.getViewState(views) }}</span>
                    </div>
                </div>
                <div class="statsGroup">
                    <div>
                        <span class="label">{{ currentVoltage.label }}</span> 
                        <span id="{{ currentVoltage.name }}" class="{{ currentVoltage.type }}">{{ currentVoltage.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">{{ currentLoad.label }}</span> 
                        <span id="{{ currentLoad.name }}" class="{{ currentLoad.type }}">{{ currentLoad.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">{{ currentPower.label }}</span> 
                        <span id="{{ currentPower.name }}" class="{{ currentPower.type }}">{{ currentPower.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">{{ todaysEnergy.label }}</span> 
                        <span id="{{ todaysEnergy.name }}" class="{{ todaysEnergy.type }}">{{ todaysEnergy.getViewState(views) }}</span>
                    </div>
                    <div>
                        <span class="label">{{ lifetimeEnergy.label }}</span> 
                        <span id="{{ lifetimeEnergy.name }}" class="{{ lifetimeEnergy.type }}">{{ lifetimeEnergy.getViewState(views) }}</span>
                    </div>
                </div>
            </div>
        {% for inv in inverters %}
            <div class="inverter" style="position:absolute; top:{{ inv.location[0] }}px; left:{{ inv.location[1] }}px" >
                <div class="inverterName">{{ inv.name }}</div>
                <div id="{{ inv.name }}" class="KW">{{ inv.getViewState(views) }}</div>
            </div>
        {% endfor %}
        {% for inv in invertersEnergy %}
            <div class="inverter" style="position:absolute; top:{{ inv.location[0]+28 }}px; left:{{ inv.location[1] }}px" >
                <div id="{{ inv.name }}" class="KWh">{{ inv.getViewState(views) }}</div>
            </div>
        {% endfor %}
        {% for opt in optimizers %}
            <div class="optimizer" style="position:absolute; top:{{ opt.location[0] }}px; left:{{ opt.location[1] }}px" >
                <div class="optimizerName">{{ opt.name }}</div>
                <div id="{{ opt.name }}" class="W">{{ opt.getViewState(views) }}</div>
            </div>
        {% endfor %}
        {% for opt in optimizersEnergy %}
            <div class="optimizer" style="position:absolute; top:{{ opt.location[0]+28 }}px; left:{{ opt.location[1] }}px" >
                <div id="{{ opt.name }}" class="KWh">{{ opt.getViewState(views) }}</div>
            </div>
        {% endfor %}
     </div>
</body>
</html>

